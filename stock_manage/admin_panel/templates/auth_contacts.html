{% extends "base.html" %}
{% block admin_dash %}

<main class="p-4 sm:p-6 lg:p-8">
    <div class="flex items-center justify-between mb-4">
        <h1 class="text-xl sm:text-2xl font-semibold text-gray-800">
            Contact Messages
        </h1>
    </div>

    <div class="overflow-x-auto mt-4">
        <table class="min-w-full border border-gray-200 rounded-lg">
            <thead class="bg-gray-100">
                <tr>
                    <th class="px-4 py-3 text-left text-sm">No.</th>
                    <th class="px-4 py-3 text-left text-sm">Name</th>
                    <th class="px-4 py-3 text-left text-sm">Email</th>
                    <th class="px-4 py-3 text-left text-sm">Message</th>
                    <th class="px-4 py-3 text-left text-sm">Date</th>
                    <th class="px-4 py-3 text-left text-sm">Action</th>
                </tr>
            </thead>
            <tbody>
                {% for contact in contacts %}
                <tr class="hover:bg-gray-50">
                    <td class="px-4 py-3">{{ forloop.counter }}</td>
                    <td class="px-4 py-3">
                        {{ contact.first_name }} {{ contact.last_name }}
                    </td>
                    <td class="px-4 py-3">{{ contact.email }}</td>
                    <td class="px-4 py-3">
                        {{ contact.message|truncatechars:80 }}
                    </td>
                    <td class="px-4 py-3">
                        {{ contact.created_at|date:"Y-m-d H:i" }}
                    </td>
                    <td class="px-4 py-3">
                        <a href="{% url 'delete_contact' contact.id %}"
                           class="px-2 py-1 text-xs text-red-600 border border-red-500 rounded">
                            Delete
                        </a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="px-4 py-3 text-center text-gray-500">
                        No contact messages yet.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</main>

{% endblock %}


